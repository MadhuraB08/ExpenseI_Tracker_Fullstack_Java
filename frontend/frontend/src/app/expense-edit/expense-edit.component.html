<div class="edit-container">
    @if (isLoading && !expense) {
      <div class="loading">Loading expense data...</div>
    }
    
    @if (error) {
      <div class="error">{{error}}</div>
    }
    
    @if (expense) {
      <h2>Edit Expense</h2>
      <form (ngSubmit)="onSubmit()" #expenseForm="ngForm">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" name="name" [(ngModel)]="expense.name" required>
        </div>
        
        <div class="form-group">
          <label for="amount">Amount</label>
          <input type="number" id="amount" name="amount" [(ngModel)]="expense.amount" required>
        </div>
        
        <div class="form-group">
          <label for="category">Category</label>
          <select id="category" name="category" [(ngModel)]="expense.category" required>
            <option value="Food">Food</option>
            <option value="Transport">Transport</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Utilities">Utilities</option>
            <option value="Other">Other</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" [(ngModel)]="expense.description"></textarea>
        </div>
        
        <div class="form-actions">
          <button type="submit" [disabled]="!expenseForm.valid || isLoading">
            @if (isLoading) {
              Saving...
            } @else {
              Save Changes
            }
          </button>
          <a routerLink="/expenses" class="cancel-btn">Cancel</a>
        </div>
      </form>
    }
  </div>